@use "../../config/config" as *;

header {
  box-shadow: 0 0 .25rem var(--shadow-25);
  position: relative;
  z-index: 2;

  > div.navbar {
    background-color: var(--header-background);
    height: $header-height;
    position: relative;
    z-index: 2;

    @include breakpoint-down(md) {
      &::after {
        background-color: var(--header-background);
        content: "";
        height: 100%;
        position: absolute;
        width: 100%;
      }
    }

    > div.nav-brand {
      padding: 0 1rem;
      z-index: 3;

      a.nav-logo {
        width: 2.5rem;

        > svg {
          max-height: 100%;
          width: auto;
        }
      }
    }

    > nav.menu {
      @include breakpoint-down(md) {
        background-color: var(--header-background);
        box-shadow: 0 0 .25rem var(--shadow-25);
        flex-direction: column;
        max-height: 0;
        overflow: hidden;
        padding: 0;
        position: absolute;
        top: 4rem;
        transition: max-height .15s;
        width: 100%;

        > div.nav-list {
          flex-direction: column;

          *.nav-item {
            height: 4rem;
          }
        }
      }

      > div.nav-list *.nav-item {
        padding: 0 1rem;
        text-decoration: none;
        white-space: pre-wrap;

        &.nav-link.profile {
          column-gap: .5rem;

          > img {
            border-radius: 50%;
            height: 2rem;
          }

          > i {
            font-size: 1.5rem;
          }
        }

        &.nav-button {
          &.login, &.logout, &.users {
            color: var(--text-inverse);

            &.active::after {
              background-color: var(--text-inverse-50);
            }

            @include hover-focus {
              color: var(--text-inverse-75);

              &::after {
                background-color: var(--text-inverse-25);
              }
            }
          }

          &.login {
            background-color: $green;

            @include hover-focus {
              background-color: $green-dark !important;
            }
          }

          &.logout {
            background-color: $red;

            @include hover-focus {
              background-color: $red-dark !important;
            }
          }

          &.users {
            background-color: $cyan;

            @include hover-focus {
              background-color: $cyan-dark !important;
            }
          }

          @include hover-focus {
            background-color: var(--button-hover);
            box-shadow: inset 0 .125rem .25rem -.125rem var(--shadow-50);
          }
        }

        &.active {
          position: relative;

          &::after {
            background-color: var(--text-50);
            border-radius: .25rem .25rem 0 0;
            bottom: 0;
            content: "";
            height: .25rem;
            left: 1rem;
            position: absolute;
            width: calc(100% - 2rem);

            @include breakpoint-down(md) {
              border-radius: 0 .25rem .25rem 0;
              height: 2rem;
              left: 0;
              top: 1rem;
              width: .25rem;
            }
          }

          @include hover-focus {
            &::after {
              background-color: var(--text-25);
            }
          }
        }
      }
    }

    > div.nav-options {
      z-index: 3;

      @include breakpoint-up(md) {
        flex: 0 0 auto;
      }

      div.theme-switch {
        cursor: pointer;
        width: 4rem;

        > i {
          font-size: 1.5rem;
        }

        @include hover-focus {
          > i {
            color: var(--text-75);
          }
        }
      }

      button.hamburger {
        display: none;
        padding: 0;

        @include breakpoint-down(md) {
          display: flex;
        }

        > span {
          height: 4rem;
          width: 4rem;

          > span, > span::before, > span::after {
            background-color: var(--text);
            width: 2rem;
          }
        }

        @include hover-focus {
          opacity: 1;

          > span {
            > span, > span::before, > span::after {
              background-color: var(--text-75);
            }
          }
        }
      }
    }
  }
}
